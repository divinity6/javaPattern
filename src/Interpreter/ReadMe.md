### Visitor 패턴( 방문자 패턴 )

- 데이터 구조와 데이터 처리를 분리해주는 패턴


- 데이터 처리 방식을 기존의 소스 코드 변경 없이 새로우 클래스 추가만으로 확장할 수 있음


- 데이터 구조는 Composite Pattern 을 사용해 표현함

---

### Diagram

- **interface Unit**
  - Composite Pattern 으로 Unit 데이터 구조 처리 
  - class Item
    - 단일 데이터
  - class ItemList
    - Unit 타입 객체를 여러개 가질 수 있음
    - 단일, 집합 데이터 포함가능


- **interface Visitor**
  - 데이터 처리 인터페이스
  - class SumVisitor
    - 데이터가 가진 정수값들을 합산하는 기능
  - class AvgVisitor
    - 데이터가 가진 정수값들의 평균을 계산해주는 기능

---

### 느낀점

- 이렇게 데이터 구조와 처리를 분리하니까 기능 확장하기가 너무 편하겠는데?


- 아 그리고 자바같은 경우에는 interface 를 구현하더라도, 
  - 해당 인터페이스 외의 메서드를 작성할 수 있구나...
  - TS 에서는 implements 로 인터페이스를 구현하면 인터페이스에 구현된 애들만 외부로 제공할 수 잇으니...ㅋㅋ


- Visitor 객체의 visit 는 말그대로 방문하겠다는 메서드네 ㅋㅋㅋ
  - 해당 unit 객체를 방문하겠다고 ㅋㅋㅋ
  - 해당 데이터 구조를 방문해서 처리해주는 애구만...
  - accept 는 해당 방문자를 허용해준다는 거구 ㅋㅋㅋ


- 보면 볼 수록 느끼는게  Composite 패턴이 개사기네
  - 집합 객체와 단일 객체 처리를 이렇게 단순하게 처리하게 할 수 있다니...


- 새로운 데이터 처리방식이 추가되더라도,
  - 데이터 처리 클래스만 추가하면 되니깐 매우 확장성있는 코드가 나올 수 밖에!!